# å¤šä¸“å®¶è®¨è®ºç³»ç»Ÿ (AI Experts Discussion System)

ä¸€ä¸ªåŸºäº AI çš„å¤šä¸“å®¶åä½œè®¨è®ºå¹³å°ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆä¸“å®¶å›¢é˜Ÿã€è¿›è¡Œæ·±åº¦è®¨è®ºï¼Œå¹¶ç”Ÿæˆä¸“ä¸šç™½çš®ä¹¦ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **ğŸ¤– æ™ºèƒ½ä¸“å®¶ç”Ÿæˆ**ï¼šæ ¹æ®è¯é¢˜è‡ªåŠ¨åˆ›å»º 5 ä½ä¸åŒé¢†åŸŸçš„ AI ä¸“å®¶
- **ğŸ’¬ æµå¼è®¨è®ºè¾“å‡º**ï¼šå®æ—¶è§‚çœ‹ä¸“å®¶å‘è¨€ï¼Œæ”¯æŒæµå¼æ–‡æœ¬è¾“å‡º
- **âš™ï¸ çµæ´»é…ç½®**ï¼šå³é”®ä¸“å®¶å¤´åƒå¯è‡ªå®šä¹‰æ¨¡å‹ ID å’Œæ¸©åº¦å‚æ•°
- **ğŸ¤µ AI ä¸»æŒäºº**ï¼šæ™ºèƒ½åˆ¤æ–­è®¨è®ºæ˜¯å¦åº”è¯¥ç»§ç»­
- **ğŸ“„ ç™½çš®ä¹¦ç”Ÿæˆ**ï¼šä¸€é”®å°†è®¨è®ºå†…å®¹æ€»ç»“ä¸ºç»“æ„åŒ– Markdown æ–‡æ¡£
- **ğŸ¨ ç°ä»£åŒ– UI**ï¼šåŸºäº shadcn/ui å’Œ MagicUI çš„ç²¾ç¾ç•Œé¢

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 15 (App Router) + TypeScript
- **API å±‚**: tRPC v11 (ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨)
- **AI é›†æˆ**: Vercel AI SDK + OpenAI
- **UI ç»„ä»¶**: shadcn/ui + Radix UI + MagicUI
- **æ ·å¼**: Tailwind CSS
- **åŠ¨ç”»**: Framer Motion
- **æ•°æ®åº“**: Drizzle ORM + SQLite
- **è¡¨å•éªŒè¯**: Zod
- **åŒ…ç®¡ç†**: pnpm

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- pnpm 8+

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd profs

# å®‰è£…ä¾èµ–
pnpm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘ .env.localï¼Œå¡«å…¥ OpenAI API Key
```

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `.env.local` ä¸­é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# OpenAI é…ç½®ï¼ˆå¿…éœ€ï¼‰
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o
OPENAI_BASE_URL=https://api.openai.com/v1

# æ•°æ®åº“é…ç½®ï¼ˆå¯é€‰ï¼‰
DB_FILE_NAME=file:local.db
```

### è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

### ç”Ÿäº§æ„å»º

```bash
pnpm build
pnpm start
```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### 1. è¾“å…¥è®¨è®ºè¯é¢˜

åœ¨ä¸“å®¶è®¨è®ºé¡µé¢è¾“å…¥ä½ æƒ³æ·±å…¥æ¢è®¨çš„é—®é¢˜æˆ–ä¸»é¢˜ã€‚

### 2. AI ç”Ÿæˆä¸“å®¶å›¢é˜Ÿ

ç³»ç»Ÿè‡ªåŠ¨åˆ›å»º 5 ä½ä¸åŒé¢†åŸŸçš„ä¸“ä¸š AI ä¸“å®¶ï¼Œæ¯ä½ä¸“å®¶éƒ½æœ‰ï¼š
- ç‹¬ç‰¹çš„è§’è‰²å®šä½
- ä¸“ä¸šçš„ç³»ç»Ÿæç¤ºè¯
- æ¨èçš„ AI æ¨¡å‹é…ç½®

### 3. ä¸“å®¶è‡ªç”±è®¨è®º

- ç‚¹å‡»ä¾§è¾¹æ çš„ä¸“å®¶å¤´åƒè®©ä»–ä»¬å‘è¨€
- æ”¯æŒæµå¼è¾“å‡ºï¼Œå®æ—¶è§‚çœ‹æ€è€ƒè¿‡ç¨‹
- å³é”®ä¸“å®¶å¤´åƒå¯ä¿®æ”¹æ¨¡å‹ ID å’Œæ¸©åº¦å‚æ•°

### 4. ç”Ÿæˆä¸“ä¸šç™½çš®ä¹¦

è®¨è®ºç»“æŸåï¼Œç‚¹å‡»"ç”Ÿæˆç™½çš®ä¹¦"æŒ‰é’®ï¼š
- è‡ªåŠ¨æ€»ç»“è®¨è®ºå†…å®¹
- ç”Ÿæˆç»“æ„åŒ–çš„ Markdown æ–‡æ¡£
- æ”¯æŒå®æ—¶é¢„è§ˆæ¸²æŸ“

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (pages)/              # å®¢æˆ·ç«¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ experts/          # ä¸“å®¶è®¨è®ºä¸»é¡µé¢
â”‚   â”‚   â””â”€â”€ page.tsx          # é¦–é¡µ
â”‚   â””â”€â”€ (server)/
â”‚       â””â”€â”€ api/
â”‚           â”œâ”€â”€ trpc/         # tRPC HTTP ç«¯ç‚¹
â”‚           â””â”€â”€ expert/       # ä¸“å®¶æµå¼ API
â”‚               â””â”€â”€ stream/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                   # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ magicui/              # MagicUI åŠ¨ç”»ç»„ä»¶
â”‚   â””â”€â”€ providers/            # React Context æä¾›è€…
â”œâ”€â”€ server/
â”‚   â””â”€â”€ routers/              # tRPC è·¯ç”±å®šä¹‰
â”‚       â”œâ”€â”€ _app.ts           # æ ¹è·¯ç”±
â”‚       â””â”€â”€ expert.ts         # ä¸“å®¶ç³»ç»Ÿè·¯ç”±
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ schema/               # Zod éªŒè¯æ¨¡å¼
â”‚   â”œâ”€â”€ ai/                   # AI æä¾›å•†é…ç½®
â”‚   â””â”€â”€ trpc/                 # tRPC å®¢æˆ·ç«¯é…ç½®
â””â”€â”€ db/
    â”œâ”€â”€ schema/               # æ•°æ®åº“è¡¨ç»“æ„
    â””â”€â”€ db.ts                 # æ•°æ®åº“å®ä¾‹
```

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
pnpm dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (Turbopack)
pnpm lint             # è¿è¡Œ ESLint
pnpm format           # æ ¼å¼åŒ–ä»£ç  (Prettier)

# æ„å»º
pnpm build            # ç”Ÿäº§æ„å»º
pnpm start            # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# æ•°æ®åº“
pnpm db:push          # æ¨é€æ•°æ®åº“æ¨¡å¼ï¼ˆå¼€å‘ï¼‰
pnpm db:generate      # ç”Ÿæˆè¿ç§»æ–‡ä»¶
pnpm db:migrate       # è¿è¡Œè¿ç§»ï¼ˆç”Ÿäº§ï¼‰
pnpm db:studio        # æ‰“å¼€ Drizzle Studio
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### ä¸“å®¶ç”Ÿæˆ

```typescript
// æ ¹æ®è¯é¢˜è‡ªåŠ¨ç”Ÿæˆ 5 ä½ä¸“å®¶
const result = await trpc.expert.generateExperts.mutate({
  topic: 'é‡å­è®¡ç®—çš„æœªæ¥å‘å±•'
})
```

### æµå¼è®¨è®º

```typescript
// ä¸“å®¶å‘è¨€ï¼Œæ”¯æŒæµå¼è¾“å‡º
const response = await fetch('/api/expert/stream', {
  method: 'POST',
  body: JSON.stringify({
    expertConfig,
    discussionHistory,
    currentTopic
  })
})
```

### ç™½çš®ä¹¦ç”Ÿæˆ

```typescript
// å°†è®¨è®ºæ€»ç»“ä¸º Markdown ç™½çš®ä¹¦
const whitepaper = await trpc.expert.generateWhitepaper.mutate({
  messages: discussionHistory,
  topic: currentTopic
})
```

## ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ

é¡¹ç›®ä½¿ç”¨å®Œæ•´çš„ä¸»é¢˜ç³»ç»Ÿï¼ˆå®šä¹‰åœ¨ `src/app/(pages)/globals.css`ï¼‰ï¼š

- **è¯­ä¹‰åŒ–é¢œè‰²**: `primary`, `secondary`, `accent`, `muted`, `card`
- **é¢„å®šä¹‰æ¸å˜**: `gradient-primary`, `gradient-warm`, `gradient-cool`
- **ç‰¹æ•ˆ**: `shadow-warm`, `glow-primary`, `glow-accent`

æ¨èä½¿ç”¨ä¸»é¢˜ç±»è€Œéç¡¬ç¼–ç é¢œè‰²ï¼Œä»¥ä¿æŒä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

## ğŸ“ æ·»åŠ æ–°åŠŸèƒ½

éµå¾ªé¡¹ç›®æ¶æ„æ¨¡å¼ï¼š

1. åœ¨ `src/lib/schema/` å®šä¹‰ Zod æ¨¡å¼
2. åœ¨ `src/server/routers/` åˆ›å»º tRPC è·¯ç”±
3. åœ¨ `src/app/(pages)/` åˆ›å»ºé¡µé¢ç»„ä»¶
4. ä½¿ç”¨ `trpc.*.useMutation()` è°ƒç”¨ API

è¯¦è§ `CLAUDE.md` ä¸­çš„å¼€å‘æŒ‡å—ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT

---

**å¤šä¸“å®¶è®¨è®ºç³»ç»Ÿ** - AI é©±åŠ¨çš„æ·±åº¦åˆ†æä¸ç™½çš®ä¹¦ç”Ÿæˆå¹³å°